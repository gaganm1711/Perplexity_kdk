<!DOCTYPE html>
<html lang="en">

<head>
    <title>Rakanjali - Blood Donation Tracker</title>
    <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">
    <style>
        /* Modern CSS Reset */
        *, *::before, *::after {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* Custom Properties */
        :root {
            --primary: #3b82f6;
            --primary-dark: #2563eb;
            --primary-light: #60a5fa;
            --secondary: #6366f1;
            --accent: #8b5cf6;
            --background: #f8fafc;
            --foreground: #1e293b;
            --card-bg: #ffffff;
            --card-border: #e2e8f0;
            --muted: #94a3b8;
            --muted-foreground: #64748b;
            --shadow-color: rgba(0, 0, 0, 0.05);
        }

        /* Base Styles */
        body {
            background: var(--background);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: var(--foreground);
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* Header */
        header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            padding: 2rem 0;
            text-align: center;
            position: relative;
        }

        header h1 {
            font-size: 3rem;
            margin: 0;
            letter-spacing: 1px;
        }

        header p {
            font-size: 1.2rem;
            margin-top: 0.5rem;
            opacity: 0.9;
        }

        /* Navigation */
        nav {
            background: var(--primary-dark);
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 10px var(--shadow-color);
        }

        nav ul {
            list-style: none;
            display: flex;
            justify-content: center;
            gap: 2rem;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1rem;
        }

        nav ul li a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            transition: background-color 0.2s;
        }

        nav ul li a:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        /* Main Content */
        main {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 1rem;
        }

        /* Card Styles */
        .card {
            background: var(--card-bg);
            border-radius: 8px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 4px 12px var(--shadow-color);
            border: 1px solid var(--card-border);
        }

        /* Section Headings */
        section h2 {
            color: var(--primary-dark);
            margin-bottom: 1.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--primary-light);
        }

        /* Search Form */
        #search-form {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .form-group {
            position: relative;
        }

        .form-group label {
            position: absolute;
            top: -0.5rem;
            left: 1rem;
            background: white;
            padding: 0 0.5rem;
            font-size: 0.875rem;
            color: var(--primary-dark);
        }

        select, input {
            width: 100%;
            padding: 0.75rem 1rem;
            border: 1px solid var(--card-border);
            border-radius: 4px;
            background: white;
            font-size: 1rem;
            transition: border-color 0.2s;
            appearance: none;
        }

        select:focus, input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.1);
        }

        button {
            background: var(--primary);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 4px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.2s;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        button:hover {
            background: var(--primary-dark);
        }

        /* Results Grid */
        #result-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-top: 1.5rem;
        }

        .donor-card {
            background: var(--card-bg);
            border-radius: 8px;
            padding: 1.5rem;
            border: 1px solid var(--card-border);
            position: relative;
            box-shadow: 0 2px 8px var(--shadow-color);
        }

        .blood-group-badge {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: var(--primary);
            color: white;
            padding: 0.4rem 0.8rem;
            border-radius: 20px;
            font-weight: bold;
            font-size: 0.875rem;
        }

        /* Nearby Camps Section */
        .camps-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 1.5rem;
            margin-top: 1.5rem;
        }

        .camp-card {
            background: var(--card-bg);
            border-radius: 8px;
            overflow: hidden;
            border: 1px solid var(--card-border);
            box-shadow: 0 2px 8px var(--shadow-color);
        }

        .camp-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }

        .camp-content {
            padding: 1.5rem;
        }

        .camp-date {
            display: inline-block;
            background: var(--secondary);
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 16px;
            font-size: 0.875rem;
            margin-bottom: 1rem;
        }

        /* User History */
        .history-timeline {
            position: relative;
            padding: 1.5rem 0;
        }

        .timeline-item {
            position: relative;
            padding-left: 2rem;
            margin-bottom: 1.5rem;
            border-left: 2px solid var(--primary);
        }

        .timeline-date {
            position: absolute;
            left: -1rem;
            background: var(--primary);
            color: white;
            padding: 0.5rem;
            border-radius: 50%;
            width: 2rem;
            height: 2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.875rem;
        }

        /* Statistics Cards */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-top: 1.5rem;
        }

        .stat-card {
            background: var(--card-bg);
            border-radius: 8px;
            padding: 1.5rem;
            text-align: center;
            border: 1px solid var(--card-border);
            box-shadow: 0 2px 8px var(--shadow-color);
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: bold;
            color: var(--primary);
            margin-bottom: 0.5rem;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            header h1 {
                font-size: 2.5rem;
            }

            nav ul {
                flex-direction: column;
                align-items: center;
                gap: 0.75rem;
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }

            .camps-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Dark Mode Support */
        @media (prefers-color-scheme: dark) {
            :root {
                --background: #0f172a;
                --foreground: #f8fafc;
                --card-bg: #1e293b;
                --card-border: #334155;
                --muted: #64748b;
                --muted-foreground: #94a3b8;
                --shadow-color: rgba(0, 0, 0, 0.2);
            }

            select, input {
                background: #1e293b;
                color: white;
                border-color: #334155;
            }

            .form-group label {
                background: #1e293b;
                color: #94a3b8;
            }
        }

        /* Footer */
        footer {
            background: var(--primary-dark);
            color: white;
            text-align: center;
            padding: 1.5rem;
            margin-top: 2rem;
        }

        footer a {
            color: white;
            text-decoration: underline;
        }
    </style>
</head>

<body>
    <header>
        <h1>Rakanjali</h1>
        <p>Connecting Blood Donors with Hospitals in Emergencies</p>
    </header>

    <nav>
        <ul>
            <li><a href="#search"><i class='bx bx-search'></i> Find Donors</a></li>
            <li><a href="#camps"><i class='bx bx-calendar-event'></i> Donation Camps</a></li>
            <li><a href="#hospitals"><i class='bx bx-hospital'></i> Hospitals</a></li>
            <li><a href="#history"><i class='bx bx-history'></i> My History</a></li>
            <li><a href="#register"><i class='bx bx-user-plus'></i> Register as Donor</a></li>
        </ul>
    </nav>

    <main>
        <!-- Statistics Section -->
        <section class="card">
            <h2>Blood Donation Statistics</h2>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number">1,234</div>
                    <p>Active Donors</p>
                </div>
                <div class="stat-card">
                    <div class="stat-number">56</div>
                    <p>Available Today</p>
                </div>
                <div class="stat-card">
                    <div class="stat-number">789</div>
                    <p>Lives Saved</p>
                </div>
                <div class="stat-card">
                    <div class="stat-number">12</div>
                    <p>Upcoming Camps</p>
                </div>
            </div>
        </section>

        <!-- Search Section -->
        <section id="search" class="card">
            <h2>Find a Blood Donor</h2>
            <form id="search-form" onsubmit="event.preventDefault(); searchBloodDonor()">
                <div class="form-group">
                    <label for="blood-group">Blood Group</label>
                    <select id="blood-group">
                        <option value="">Select Blood Group</option>
                        <option value="A+">A+</option>
                        <option value="A-">A-</option>
                        <option value="B+">B+</option>
                        <option value="B-">B-</option>
                        <option value="AB+">AB+</option>
                        <option value="AB-">AB-</option>
                        <option value="O+">O+</option>
                        <option value="O-">O-</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="country">Country</label>
                    <select id="country">
                        <option value="">Select Country</option>
                        <option value="India">India</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="state">State</label>
                    <select id="state" onchange="populateDistricts()">
                        <option value="">Select State</option>
                        <option value="Maharashtra">Maharashtra</option>
                        <option value="Karnataka">Karnataka</option>
                        <option value="Tamil Nadu">Tamil Nadu</option>
                        <option value="Uttar Pradesh">Uttar Pradesh</option>
                        <option value="Gujarat">Gujarat</option>
                        <option value="Rajasthan">Rajasthan</option>
                        <option value="West Bengal">West Bengal</option>
                        <option value="Andhra Pradesh">Andhra Pradesh</option>
                        <option value="Telangana">Telangana</option>
                        <option value="Kerala">Kerala</option>
                        <option value="Punjab">Punjab</option>
                        <option value="Haryana">Haryana</option>
                        <option value="Bihar">Bihar</option>
                        <option value="Odisha">Odisha</option>
                        <option value="Assam">Assam</option>
                        <option value="Jharkhand">Jharkhand</option>
                        <option value="Chhattisgarh">Chhattisgarh</option>
                        <option value="Himachal Pradesh">Himachal Pradesh</option>
                        <option value="Jammu and Kashmir">Jammu and Kashmir</option>
                        <option value="Uttarakhand">Uttarakhand</option>
                        <option value="Goa">Goa</option>
                        <option value="Sikkim">Sikkim</option>
                        <option value="Tripura">Tripura</option>
                        <option value="Meghalaya">Meghalaya</option>
                        <option value="Nagaland">Nagaland</option>
                        <option value="Mizoram">Mizoram</option>
                        <option value="Arunachal Pradesh">Arunachal Pradesh</option>
                        <option value="Manipur">Manipur</option>
                        <option value="Andaman and Nicobar Islands">Andaman and Nicobar Islands</option>
                        <option value="Lakshadweep">Lakshadweep</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="district">District</label>
                    <select id="district" disabled onchange="populateTalukas()">
                        <option value="">Select District</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="taluka">Taluka</label>
                    <select id="taluka" disabled>
                        <option value="">Select Taluka</option>
                    </select>
                </div>
                <button type="submit">Search Donors</button>
            </form>
        </section>

        <!-- Results Section -->
        <section id="results" class="card" style="display: none;">
            <h2>Search Results</h2>
            <div id="result-list">
                <!-- Results will be populated here -->
            </div>
        </section>

        <!-- Nearby Camps Section -->
        <section id="camps" class="card">
            <h2>Upcoming Blood Donation Camps</h2>
            <div class="camps-grid">
                <div class="camp-card">
                    <img src="/placeholder.svg?height=200&width=350" alt="Blood Donation Camp" class="camp-image">
                    <div class="camp-content">
                        <span class="camp-date">Mar 15, 2025</span>
                        <h3>City Hospital Blood Drive</h3>
                        <p>Join us for our monthly blood donation camp. Free health checkup included.</p>
                        <button onclick="registerForCamp(1)">Register Now</button>
                    </div>
                </div>
                <div class="camp-card">
                    <img src="/placeholder.svg?height=200&width=350" alt="Blood Donation Camp" class="camp-image">
                    <div class="camp-content">
                        <span class="camp-date">Mar 20, 2025</span>
                        <h3>Community Center Drive</h3>
                        <p>Special blood donation drive organized by the local community.</p>
                        <button onclick="registerForCamp(2)">Register Now</button>
                    </div>
                </div>
                <div class="camp-card">
                    <img src="/placeholder.svg?height=200&width=350" alt="Blood Donation Camp" class="camp-image">
                    <div class="camp-content">
                        <span class="camp-date">Mar 25, 2025</span>
                        <h3>Corporate Blood Drive</h3>
                        <p>Blood donation camp at Tech Park. All donors receive certificates.</p>
                        <button onclick="registerForCamp(3)">Register Now</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- User History Section -->
        <section id="history" class="card">
            <h2>My Donation History</h2>
            <div class="history-timeline">
                <div class="timeline-item">
                    <div class="timeline-date">15</div>
                    <h3>Last Donation</h3>
                    <p>January 15, 2025 at City Hospital</p>
                    <p>Blood Group: O+</p>
                </div>
                <div class="timeline-item">
                    <div class="timeline-date">10</div>
                    <h3>Previous Donation</h3>
                    <p>October 10, 2024 at Community Center</p>
                    <p>Blood Group: O+</p>
                </div>
                <div class="timeline-item">
                    <div class="timeline-date">5</div>
                    <h3>First Donation</h3>
                    <p>July 5, 2024 at Blood Bank</p>
                    <p>Blood Group: O+</p>
                </div>
            </div>
        </section>

        <!-- Hospitals Section -->
        <section id="hospitals" class="card">
            <h2>Nearby Hospitals with Blood Banks</h2>
            <div id="hospital-list" class="camps-grid">
                <!-- Hospital list will be populated here -->
            </div>
        </section>
    </main>

    <footer>
        <p>© 2025 Rakanjali. All Rights Reserved.</p>
        <p>Contact: <a href="mailto:info@rakanjali.org">info@rakanjali.org</a> | Phone: +91 1234567890</p>
    </footer>

    <script>
        // State and district data
        const stateDistrictData = {
            "Maharashtra": ["Thane", "Pune", "Mumbai Suburban", "Nashik", "Nagpur", "Ahmadnagar", "Solapur", "Jalgaon", "Kolhapur", "Aurangabad", "Nanded", "Mumbai City", "Akola", "Latur", "Dhule", "Palghar", "Jalna", "Raigarh", "Parbhani", "Satara", "Bid", "Sangli", "Amravati", "Yavatmal", "Buldhana", "Beed", "Nandurbar", "Osmanabad", "Wardha", "Washim", "Hingoli", "Gondiya", "Chandrapur", "Gadchiroli", "Bhandara", "Sindhudurg", "Ratnagiri"],
            "Karnataka": ["Bangalore Urban", "Bangalore Rural", "Mysore", "Belgaum", "Gulbarga", "Raichur", "Bijapur", "Bagalkot", "Bellary", "Bidar", "Chamarajanagar", "Chikkaballapur", "Chikmagalur", "Chitradurga", "Dakshina Kannada", "Davanagere", "Dharwad", "Gadag", "Hassan", "Haveri", "Kodagu", "Kolar", "Koppal", "Mandya", "Ramanagara", "Shimoga", "Tumkur", "Udupi", "Uttara Kannada", "Yadgir"],
            "Tamil Nadu": ["Chennai", "Coimbatore", "Cuddalore", "Dharmapuri", "Dindigul", "Erode", "Kanchipuram", "Kanyakumari", "Karur", "Krishnagiri", "Madurai", "Nagapattinam", "Namakkal", "Nilgiris", "Perambalur", "Pudukkottai", "Ramanathapuram", "Salem", "Sivaganga", "Thanjavur", "Theni", "Thoothukudi", "Tiruchirappalli", "Tirunelveli", "Tiruppur", "Tiruvallur", "Tiruvannamalai", "Tiruvarur", "Vellore", "Viluppuram", "Virudhunagar"],
            "Uttar Pradesh": ["Agra", "Aligarh", "Allahabad", "Ambedkar Nagar", "Amethi", "Amroha", "Auraiya", "Azamgarh", "Baghpat", "Bahraich", "Ballia", "Balrampur", "Banda", "Barabanki", "Bareilly", "Basti", "Bhadohi", "Bijnor", "Budaun", "Bulandshahr", "Chandauli", "Chitrakoot", "Deoria", "Etah", "Etawah", "Faizabad", "Farrukhabad", "Fatehpur", "Firozabad", "Gautam Buddha Nagar", "Ghaziabad", "Ghazipur", "Gonda", "Gorakhpur", "Hamirpur", "Hapur", "Hardoi", "Hathras", "Jalaun", "Jaunpur", "Jhansi", "Kannauj", "Kanpur Dehat", "Kanpur Nagar", "Kasganj", "Kaushambi", "Kheri", "Kushinagar", "Lalitpur", "Lucknow", "Maharajganj", "Mahoba", "Mainpuri", "Mathura", "Mau", "Meerut", "Mirzapur", "Moradabad", "Muzaffarnagar", "Pilibhit", "Pratapgarh", "Raebareli", "Rampur", "Saharanpur", "Sambhal", "Sant Kabir Nagar", "Shahjahanpur", "Shamli", "Shravasti", "Siddharthnagar", "Sitapur", "Sonbhadra", "Sultanpur", "Unnao", "Varanasi"],
            "Gujarat": ["Ahmedabad", "Amreli", "Anand", "Aravalli", "Banaskantha", "Bharuch", "Bhavnagar", "Botad", "Chhota Udaipur", "Dahod", "Dang", "Devbhoomi Dwarka", "Gandhinagar", "Gir Somnath", "Jamnagar", "Junagadh", "Kheda", "Kutch", "Mahisagar", "Mehsana", "Morbi", "Narmada", "Navsari", "Panchmahal", "Patan", "Porbandar", "Rajkot", "Sabarkantha", "Surat", "Surendranagar", "Tapi", "Vadodara", "Valsad"],
            "Rajasthan": ["Ajmer", "Alwar", "Banswara", "Baran", "Barmer", "Bharatpur", "Bhilwara", "Bikaner", "Bundi", "Chittorgarh", "Churu", "Dausa", "Dholpur", "Dungarpur", "Hanumangarh", "Jaipur", "Jaisalmer", "Jalore", "Jhalawar", "Jhunjhunu", "Jodhpur", "Karauli", "Kota", "Nagaur", "Pali", "Pratapgarh", "Rajsamand", "Sawai Madhopur", "Sikar", "Sirohi", "Sri Ganganagar", "Tonk", "Udaipur"],
            "West Bengal": ["Alipurduar", "Bankura", "Birbhum", "Cooch Behar", "Dakshin Dinajpur", "Darjeeling", "Hooghly", "Howrah", "Jalpaiguri", "Jhargram", "Kalimpong", "Kolkata", "Malda", "Murshidabad", "Nadia", "North 24 Parganas", "Paschim Bardhaman", "Paschim Medinipur", "Purba Bardhaman", "Purba Medinipur", "Purulia", "South 24 Parganas", "Uttar Dinajpur"],
            "Andhra Pradesh": ["Anantapur", "Chittoor", "East Godavari", "Guntur", "Krishna", "Kurnool", "Nellore", "Prakasam", "Srikakulam", "Visakhapatnam", "Vizianagaram", "West Godavari", "YSR Kadapa"],
            "Telangana": ["Adilabad", "Bhadradri Kothagudem", "Hyderabad", "Jagtial", "Jangaon", "Jayashankar Bhupalpally", "Jogulamba Gadwal", "Kamareddy", "Karimnagar", "Khammam", "Komaram Bheem Asifabad", "Mahabubabad", "Mahabubnagar", "Mancherial", "Medak", "Medchal–Malkajgiri", "Mulugu", "Nagarkurnool", "Nalgonda", "Narayanpet", "Nirmal", "Nizamabad", "Peddapalli", "Rajanna Sircilla", "Rangareddy", "Sangareddy", "Siddipet", "Suryapet", "Vikarabad", "Wanaparthy", "Warangal Rural", "Warangal Urban", "Yadadri Bhuvanagiri"],
            "Kerala": ["Alappuzha", "Ernakulam", "Idukki", "Kannur", "Kasaragod", "Kollam", "Kottayam", "Kozhikode", "Malappuram", "Palakkad", "Pathanamthitta", "Thiruvananthapuram", "Thrissur", "Wayanad"],
            "Punjab": ["Amritsar", "Barnala", "Bathinda", "Faridkot", "Fatehgarh Sahib", "Fazilka", "Ferozepur", "Gurdaspur", "Hoshiarpur", "Jalandhar", "Kapurthala", "Ludhiana", "Mansa", "Moga", "Muktsar", "Nawanshahr", "Pathankot", "Patiala", "Rupnagar", "Sahibzada Ajit Singh Nagar", "Sangrur", "Tarn Taran"],
            "Haryana": ["Ambala", "Bhiwani", "Charkhi Dadri", "Faridabad", "Fatehabad", "Gurugram", "Hisar", "Jhajjar", "Jind", "Kaithal", "Karnal", "Kurukshetra", "Mahendragarh", "Nuh", "Palwal", "Panchkula", "Panipat", "Rewari", "Rohtak", "Sirsa", "Sonipat", "Yamunanagar"],
            "Bihar": ["Araria", "Arwal", "Aurangabad", "Banka", "Begusarai", "Bhagalpur", "Bhojpur", "Buxar", "Darbhanga", "East Champaran", "Gaya", "Gopalganj", "Jamui", "Jehanabad", "Kaimur", "Katihar", "Khagaria", "Kishanganj", "Lakhisarai", "Madhepura", "Madhubani", "Munger", "Muzaffarpur", "Nalanda", "Nawada", "Patna", "Purnia", "Rohtas", "Saharsa", "Samastipur", "Saran", "Sheikhpura", "Sheohar", "Sitamarhi", "Siwan", "Supaul", "Vaishali", "West Champaran  "Saran", "Sheikhpura", "Sheohar", "Sitamarhi", "Siwan", "Supaul", "Vaishali", "West Champaran"],
            "Odisha": ["Angul", "Balangir", "Balasore", "Bargarh", "Bhadrak", "Boudh", "Cuttack", "Deogarh", "Dhenkanal", "Gajapati", "Ganjam", "Jagatsinghpur", "Jajpur", "Jharsuguda", "Kalahandi", "Kandhamal", "Kendrapara", "Kendujhar", "Khordha", "Koraput", "Malkangiri", "Mayurbhanj", "Nabarangpur", "Nayagarh", "Nuapada", "Puri", "Rayagada", "Sambalpur", "Subarnapur", "Sundargarh"],
            "Assam": ["Baksa", "Barpeta", "Biswanath", "Bongaigaon", "Cachar", "Charaideo", "Chirang", "Darrang", "Dhemaji", "Dhubri", "Dibrugarh", "Dima Hasao", "Goalpara", "Golaghat", "Hailakandi", "Hojai", "Jorhat", "Kamrup", "Kamrup Metropolitan", "Karbi Anglong", "Karimganj", "Kokrajhar", "Lakhimpur", "Majuli", "Morigaon", "Nagaon", "Nalbari", "Sivasagar", "Sonitpur", "South Salmara-Mankachar", "Tinsukia", "Udalguri", "West Karbi Anglong"],
            "Jharkhand": ["Bokaro", "Chatra", "Deoghar", "Dhanbad", "Dumka", "East Singhbhum", "Garhwa", "Giridih", "Godda", "Gumla", "Hazaribagh", "Jamtara", "Khunti", "Koderma", "Latehar", "Lohardaga", "Pakur", "Palamu", "Ramgarh", "Ranchi", "Sahibganj", "Seraikela Kharsawan", "Simdega", "West Singhbhum"],
            "Chhattisgarh": ["Balod", "Baloda Bazar", "Balrampur", "Bastar", "Bemetara", "Bijapur", "Bilaspur", "Dantewada", "Dhamtari", "Durg", "Gariaband", "Janjgir-Champa", "Jashpur", "Kabirdham", "Kanker", "Kondagaon", "Korba", "Koriya", "Mahasamund", "Mungeli", "Narayanpur", "Raigarh", "Raipur", "Rajnandgaon", "Sukma", "Surajpur", "Surguja"],
            "Himachal Pradesh": ["Bilaspur", "Chamba", "Hamirpur", "Kangra", "Kinnaur", "Kullu", "Lahaul and Spiti", "Mandi", "Shimla", "Sirmaur", "Solan", "Una"],
            "Jammu and Kashmir": ["Anantnag", "Bandipora", "Baramulla", "Budgam", "Doda", "Ganderbal", "Jammu", "Kathua", "Kishtwar", "Kulgam", "Kupwara", "Poonch", "Pulwama", "Rajouri", "Ramban", "Reasi", "Samba", "Shopian", "Srinagar", "Udhampur"],
            "Uttarakhand": ["Almora", "Bageshwar", "Chamoli", "Champawat", "Dehradun", "Haridwar", "Nainital", "Pauri Garhwal", "Pithoragarh", "Rudraprayag", "Tehri Garhwal", "Udham Singh Nagar", "Uttarkashi"],
            "Goa": ["North Goa", "South Goa"],
            "Sikkim": ["East Sikkim", "North Sikkim", "South Sikkim", "West Sikkim"],
            "Tripura": ["Dhalai", "Gomati", "Khowai", "North Tripura", "Sepahijala", "South Tripura", "Unakoti", "West Tripura"],
            "Meghalaya": ["East Garo Hills", "East Jaintia Hills", "East Khasi Hills", "North Garo Hills", "Ri-Bhoi", "South Garo Hills", "South West Garo Hills", "South West Khasi Hills", "West Garo Hills", "West Jaintia Hills", "West Khasi Hills"],
            "Nagaland": ["Dimapur", "Kiphire", "Kohima", "Longleng", "Mokokchung", "Mon", "Peren", "Phek", "Tuensang", "Wokha", "Zunheboto"],
            "Mizoram": ["Aizawl", "Champhai", "Hnahthial", "Khawzawl", "Kolasib", "Lawngtlai", "Lunglei", "Mamit", "Saiha", "Saitual", "Serchhip"],
            "Arunachal Pradesh": ["Anjaw", "Changlang", "Dibang Valley", "East Kameng", "East Siang", "Kamle", "Kra Daadi", "Kurung Kumey", "Lepa Rada", "Lohit", "Longding", "Lower Dibang Valley", "Lower Siang", "Lower Subansiri", "Namsai", "Pakke Kessang", "Papum Pare", "Shi Yomi", "Siang", "Tawang", "Tirap", "Upper Siang", "Upper Subansiri", "West Kameng", "West Siang"],
            "Manipur": ["Bishnupur", "Chandel", "Churachandpur", "Imphal East", "Imphal West", "Jiribam", "Kakching", "Kamjong", "Kangpokpi", "Noney", "Pherzawl", "Senapati", "Tamenglong", "Tengnoupal", "Thoubal", "Ukhrul"],
            "Andaman and Nicobar Islands": ["Nicobar", "North and Middle Andaman", "South Andaman"],
            "Lakshadweep": ["Lakshadweep"]
        };

        // Taluka data for Maharashtra districts
        const talukaData = {
            "Thane": ["Thane", "Kalyan", "Murbad", "Bhiwandi", "Vasai", "Uran", "Shahapur", "Ambarnath", "Jawhar", "Vikramgad", "Palghar", "Talasari"],
            "Pune": ["Pune City", "Baramati", "Junnar", "Shirur", "Maval", "Daund", "Indapur", "Purandar", "Velhe", "Bhor", "Haveli", "Khed", "Mulshi", "Ambegaon"],
            "Mumbai Suburban": ["Andheri", "Borivali", "Kandivali", "Dahisar", "Goregaon", "Jogeshwari", "Juhu", "Malad", "Santacruz", "Vile Parle", "Kurla", "Chembur", "Ghatkopar", "Mulund", "Powai", "Bandra", "Khar"],
            "Nashik": ["Nashik", "Niphad", "Dindori", "Malegaon", "Nashik City", "Sinnar", "Igatpuri", "Trimbak", "Baglan", "Chandwad", "Deola", "Kalwan", "Peint", "Satana", "Yeola"],
            "Nagpur": ["Nagpur City", "Nagpur Rural", "Ramtek", "Kamptee", "Katol", "Kalmeshwar", "Hingna", "Umred", "Kuhi", "Narkhed", "Parshioni", "Mouda", "Savner", "Parseoni", "Bhiwapur"]
        };

        // Sample data for Karnataka districts
        const karnatakaData = {
            "Bangalore Urban": ["Bangalore North", "Bangalore South", "Bangalore East", "Bangalore West", "Anekal"],
            "Mysore": ["Mysore", "Nanjangud", "T. Narasipura", "H.D. Kote", "Hunsur", "K.R. Nagar", "Periyapatna"],
            "Belgaum": ["Belgaum", "Khanapur", "Bailhongal", "Saundatti", "Ramdurg", "Gokak", "Hukkeri", "Chikodi", "Raibag", "Athani"]
        };

        // Sample data for Tamil Nadu districts
        const tamilNaduData = {
            "Chennai": ["Chennai North", "Chennai South", "Chennai East", "Chennai West", "Chennai Central"],
            "Coimbatore": ["Coimbatore North", "Coimbatore South", "Mettupalayam", "Pollachi", "Valparai", "Sulur"],
            "Madurai": ["Madurai North", "Madurai South", "Madurai East", "Madurai West", "Melur", "Vadipatti", "Usilampatti", "Peraiyur"]
        };

        // Sample data for hospitals in major cities
        const hospitalData = {
            "Mumbai": [
                { name: "Lilavati Hospital", address: "A-791, Bandra Reclamation, Bandra West", contact: "022-26751000", bloodBanks: true },
                { name: "Tata Memorial Hospital", address: "Dr. E Borges Road, Parel", contact: "022-24177000", bloodBanks: true },
                { name: "Kokilaben Dhirubhai Ambani Hospital", address: "Four Bungalows, Andheri West", contact: "022-30999999", bloodBanks: true }
            ],
            "Delhi": [
                { name: "AIIMS Delhi", address: "Ansari Nagar East", contact: "011-26588500", bloodBanks: true },
                { name: "Fortis Hospital", address: "Okhla road, Sukhdev Vihar", contact: "011-47134613", bloodBanks: true },
                { name: "Max Super Speciality Hospital", address: "1, Press Enclave Road, Saket", contact: "011-26515050", bloodBanks: true }
            ],
            "Bangalore": [
                { name: "Manipal Hospital", address: "98, HAL Airport Road", contact: "080-25024444", bloodBanks: true },
                { name: "Narayana Hrudayalaya", address: "258/A, Bommasandra Industrial Area", contact: "080-71222222", bloodBanks: true },
                { name: "Columbia Asia Hospital", address: "26/4, Brigade Gateway, Yeshwanthpur", contact: "080-39898969", bloodBanks: true }
            ],
            "Chennai": [
                { name: "Apollo Hospitals", address: "21, Greams Lane, Off Greams Road", contact: "044-28290200", bloodBanks: true },
                { name: "Stanley Medical College and Hospital", address: "Old Jail Road, Royapuram", contact: "044-25281347", bloodBanks: true },
                { name: "Madras Medical College", address: "EVR Periyar Salai, Park Town", contact: "044-25305000", bloodBanks: true }
            ],
            "Kolkata": [
                { name: "AMRI Hospital", address: "JC 16-17, Salt Lake City", contact: "033-66800000", bloodBanks: true },
                { name: "Fortis Hospital", address: "730, Anandapur, E.M. Bypass", contact: "033-66284444", bloodBanks: true },
                { name: "Peerless Hospital", address: "360, Panchasayar, Kolkata", contact: "033-40111222", bloodBanks: true }
            ]
        };

        // Blood donor data structure (sample)
        const bloodDonorSample = [
            {
                id: 1,
                name: "Rahul Sharma",
                bloodGroup: "O+",
                contact: "9876543210",
                location: {
                    state: "Maharashtra",
                    district: "Mumbai City",
                    taluka: "Dadar"
                },
                lastDonation: "2023-10-15",
                available: true
            },
            {
                id: 2,
                name: "Priya Patel",
                bloodGroup: "A+",
                contact: "8765432109",
                location: {
                    state: "Gujarat",
                    district: "Ahmedabad",
                    taluka: "Ahmedabad City"
                },
                lastDonation: "2023-09-20",
                available: true
            },
            {
                id: 3,
                name: "Amit Kumar",
                bloodGroup: "B-",
                contact: "7654321098",
                location: {
                    state: "Karnataka",
                    district: "Bangalore Urban",
                    taluka: "Bangalore South"
                },
                lastDonation: "2023-11-05",
                available: false
            }
        ];

        function populateDistricts() {
            var stateSelect = document.getElementById("state");
            var districtSelect = document.getElementById("district");
            var talukaSelect = document.getElementById("taluka");
            var selectedState = stateSelect.options[stateSelect.selectedIndex].value;

            // Clear existing options
            districtSelect.innerHTML = "<option value=''>Select District</option>";
            talukaSelect.innerHTML = "<option value=''>Select Taluka</option>";
            talukaSelect.disabled = true;

            // Populate districts based on selected state
            if (selectedState in stateDistrictData) {
                stateDistrictData[selectedState].forEach(function (district) {
                    var option = document.createElement("option");
                    option.text = district;
                    option.value = district;
                    districtSelect.add(option);
                });
                districtSelect.disabled = false;
            } else {
                districtSelect.disabled = true;
            }
        }

        function populateTalukas() {
            var districtSelect = document.getElementById("district");
            var talukaSelect = document.getElementById("taluka");
            var selectedDistrict = districtSelect.options[districtSelect.selectedIndex].value;

            // Clear existing options
            talukaSelect.innerHTML = "<option value=''>Select Taluka</option>";

            // Get the appropriate taluka data based on the state
            var stateSelect = document.getElementById("state");
            var selectedState = stateSelect.options[stateSelect.selectedIndex].value;
            
            let talukaDataSource;
            if (selectedState === "Maharashtra") {
                talukaDataSource = talukaData;
            } else if (selectedState === "Karnataka") {
                talukaDataSource = karnatakaData;
            } else if (selectedState === "Tamil Nadu") {
                talukaDataSource = tamilNaduData;
            } else {
                // Default empty object for other states
                talukaDataSource = {};
            }

            // Populate talukas based on selected district
            if (selectedDistrict in talukaDataSource) {
                talukaDataSource[selectedDistrict].forEach(function (taluka) {
                    var option = document.createElement("option");
                    option.text = taluka;
                    option.value = taluka;
                    talukaSelect.add(option);
                });
                talukaSelect.disabled = false;
            } else {
                talukaSelect.disabled = true;
            }
        }

        function searchBloodDonor() {
            // Retrieve selected values
            var bloodGroup = document.getElementById("blood-group").value;
            var country = document.getElementById("country").value;
            var state = document.getElementById("state").value;
            var district = document.getElementById("district").value;
            var taluka = document.getElementById("taluka").value;

            // Show results section
            document.getElementById("results").style.display = "block";

            // For demonstration, display sample donors
            displaySampleDonors(bloodGroup, state, district, taluka);
            
            // Also display nearby hospitals
            displayNearbyHospitals(state, district);
        }

        function displaySampleDonors(bloodGroup, state, district, taluka) {
            var resultList = document.getElementById("result-list");
            resultList.innerHTML = "";

            // Filter the sample donors based on search criteria
            var filteredDonors = bloodDonorSample.filter(function(donor) {
                return (bloodGroup === "" || donor.bloodGroup === bloodGroup) &&
                       (state === "" || donor.location.state === state) &&
                       (district === "" || donor.location.district === district) &&
                       (taluka === "" || donor.location.taluka === taluka) &&
                       donor.available === true;
            });

            if (filteredDonors.length === 0) {
                resultList.innerHTML = "<p>No donors found matching your criteria. Please try with different search parameters.</p>";
                return;
            }

            // Display the filtered donors
            filteredDonors.forEach(function(donor) {
                var donorCard = document.createElement("div");
                donorCard.className = "donor-card";
                
                donorCard.innerHTML = `
                    <h3>${donor.name} <span class="blood-group-badge">${donor.bloodGroup}</span></h3>
                    <p><strong>Location:</strong> ${donor.location.taluka}, ${donor.location.district}, ${donor.location.state}</p>
                    <p><strong>Last Donation:</strong> ${new Date(donor.lastDonation).toLocaleDateString()}</p>
                    <button onclick="contactDonor(${donor.id})" class="contact-btn">Contact Donor</button>
                `;
                
                resultList.appendChild(donorCard);
            });
        }

        function displayNearbyHospitals(state, district) {
            var hospitalList = document.getElementById("hospital-list");
            hospitalList.innerHTML = "";

            // For demonstration, show hospitals based on state
            let cityToShow = "";
            if (state === "Maharashtra" && (district === "Mumbai City" || district === "Mumbai Suburban")) {
                cityToShow = "Mumbai";
            } else if (state === "Karnataka" && district === "Bangalore Urban") {
                cityToShow = "Bangalore";
            } else if (state === "Tamil Nadu" && district === "Chennai") {
                cityToShow = "Chennai";
            } else if (state === "West Bengal" && district === "Kolkata") {
                cityToShow = "Kolkata";
            } else {
                hospitalList.innerHTML = "<p>No hospital information available for the selected location.</p>";
                return;
            }

            // Display hospitals for the selected city
            if (hospitalData[cityToShow]) {
                hospitalData[cityToShow].forEach(function(hospital) {
                    var hospitalCard = document.createElement("div");
                    hospitalCard.className = "camp-card";
                    
                    hospitalCard.innerHTML = `
                        <div class="camp-content">
                            <h3>${hospital.name}</h3>
                            <p><strong>Address:</strong> ${hospital.address}</p>
                            <p><strong>Contact:</strong> ${hospital.contact}</p>
                            ${hospital.bloodBanks ? '<span class="camp-date">Blood Bank Available</span>' : ''}
                            <button onclick="contactHospital('${hospital.contact}')">Contact Hospital</button>
                        </div>
                    `;
                    
                    hospitalList.appendChild(hospitalCard);
                });
            }
        }

        function registerForCamp(campId) {
            alert(`Registration for camp ${campId} will be implemented in the next phase.`);
        }

        function contactDonor(donorId) {
            // Find the donor by ID
            const donor = bloodDonorSample.find(d => d.id === donorId);
            if (donor) {
                alert(`Contacting ${donor.name} at ${donor.contact}`);
            }
        }

        function contactHospital(contact) {
            alert(`Calling hospital at ${contact}`);
        }

        // Initialize the page
        document.addEventListener("DOMContentLoaded", function() {
            console.log("Rakanjali Blood Donation Tracker initialized");
        });
    </script>
</body>

</html>

